{"version":3,"sources":["../../src/models/categories.model.ts"],"sourcesContent":["/**\n * Sequelize model definition for categories.\n * Represents category entities with name and description fields.\n */\nimport { Sequelize, DataTypes, Model, Optional } from \"sequelize\";\n\nimport { Category } from \"@interfaces/category.interface\";\n\n/**\n * Type for category creation attributes, omitting pk and uuid for auto-generation.\n */\nexport type CategoryCreationAttributes = Optional<Category, \"pk\" | \"uuid\">;\n\n/**\n * CategoryModel class for Sequelize ORM.\n * Implements Category interface and adds timestamp fields.\n */\nexport class CategoryModel extends Model<Category, CategoryCreationAttributes> {\n  public readonly created_at!: Date; // Timestamp for creation\n  public readonly updated_at!: Date; // Timestamp for last update\n  public readonly deleted_at: Date;  // Timestamp for deletion (paranoid)\n}\n\n/**\n * Initializes the CategoryModel with Sequelize instance.\n * @param sequelize - Sequelize connection instance\n * @returns CategoryModel class\n */\nexport default function (sequelize: Sequelize): typeof CategoryModel {\n  CategoryModel.init(\n    {\n      pk: {\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n        autoIncrement: true,\n      },\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      description: {\n        type: DataTypes.TEXT,\n        allowNull: false,\n      },\n    },\n    {\n      tableName: \"categories\", // Table name in DB\n      timestamps: true,         // Enable created_at/updated_at\n      paranoid: true,           // Enable soft deletes (deleted_at)\n      sequelize                 // Sequelize instance\n    },\n  );\n\n  return CategoryModel;\n}"],"names":["CategoryModel","Model","created_at","updated_at","deleted_at","sequelize","init","pk","type","DataTypes","INTEGER","primaryKey","autoIncrement","uuid","UUID","defaultValue","UUIDV4","name","STRING","allowNull","description","TEXT","tableName","timestamps","paranoid"],"mappings":";;;;;;;;;;;QAiBaA;eAAAA;;QAWb;eAAA;;;2BAxBsD;;;;;;;;;;;;;;AAa/C,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,gBAAK;;QAAjC,gBACL,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA;;AACF;AAOe,SAAf,SAAyBC,SAAoB;IAC3CL,cAAcM,IAAI,CAChB;QACEC,IAAI;YACFC,MAAMC,oBAAS,CAACC,OAAO;YACvBC,YAAY;YACZC,eAAe;QACjB;QACAC,MAAM;YACJL,MAAMC,oBAAS,CAACK,IAAI;YACpBC,cAAcN,oBAAS,CAACO,MAAM;QAChC;QACAC,MAAM;YACJT,MAAMC,oBAAS,CAACS,MAAM;YACtBC,WAAW;QACb;QACAC,aAAa;YACXZ,MAAMC,oBAAS,CAACY,IAAI;YACpBF,WAAW;QACb;IACF,GACA;QACEG,WAAW;QACXC,YAAY;QACZC,UAAU;QACVnB;IACF;IAGF,OAAOL;AACT"}