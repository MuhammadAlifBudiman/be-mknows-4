{"version":3,"sources":["../../src/models/users_sessions.model.ts"],"sourcesContent":["import { Sequelize, DataTypes, Model, Optional } from \"sequelize\";\nimport { UserSession } from \"@interfaces/user-session.interface\";\n\nimport { UserModel } from \"@models/users.model\";\n\nexport type UserSessionCreationAttributes = Optional<UserSession, \"pk\" | \"uuid\">;\n\nexport class UserSessionModel extends Model<UserSession, UserSessionCreationAttributes> implements UserSessionCreationAttributes {\n  public pk: number;\n  public uuid: string;\n  \n  public user_id: number;\n  public useragent: string;\n  public ip_address: string;\n  public status: string; // [\"EXPIRED\", \"ACTIVE\", \"LOGOUT\"]\n\n  public readonly user: UserModel;\n\n  public readonly created_at!: Date;\n  public readonly updated_at!: Date;\n  public readonly deleted_at: Date;\n}\n\nexport default function (sequelize: Sequelize): typeof UserSessionModel {\n  UserSessionModel.init(\n    {\n      pk: {\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      uuid: {\n        allowNull: true,\n        defaultValue: DataTypes.UUIDV4,\n        type: DataTypes.STRING(52),\n      },\n      user_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER(),\n      },\n      useragent: {\n        allowNull: false,\n        type: DataTypes.STRING(320),\n      },\n      ip_address: {\n        allowNull: false,\n        type: DataTypes.STRING(64),\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.STRING(512),\n      },\n    },\n    {\n      tableName: \"users_sessions\",\n      timestamps: true,\n      paranoid: true,\n      sequelize,\n    },\n  );\n\n  UserSessionModel.belongsTo(UserModel, {\n    foreignKey: \"user_id\",\n    as: \"user\"\n  });\n\n  return UserSessionModel;\n}"],"names":["UserSessionModel","Model","pk","uuid","user_id","useragent","ip_address","status","user","created_at","updated_at","deleted_at","sequelize","init","autoIncrement","primaryKey","type","DataTypes","INTEGER","allowNull","defaultValue","UUIDV4","STRING","tableName","timestamps","paranoid","belongsTo","UserModel","foreignKey","as"],"mappings":";;;;;;;;;;;QAOaA;eAAAA;;QAgBb;eAAA;;;2BAvBsD;4BAG5B;;;;;;;;;;;;;;AAInB,IAAA,AAAMA,mBAAN,MAAMA,yBAAyBC,gBAAK;;QAApC,gBACL,uBAAOC,MAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IAEA,uBAAOC,WAAP,KAAA,IACA,uBAAOC,aAAP,KAAA,IACA,uBAAOC,cAAP,KAAA,IACA,uBAAOC,UAAP,KAAA,IAEA,uBAAgBC,QAAhB,KAAA,IAEA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA;;AACF;AAEe,SAAf,SAAyBC,SAAoB;IAC3CZ,iBAAiBa,IAAI,CACnB;QACEX,IAAI;YACFY,eAAe;YACfC,YAAY;YACZC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAf,MAAM;YACJgB,WAAW;YACXC,cAAcH,oBAAS,CAACI,MAAM;YAC9BL,MAAMC,oBAAS,CAACK,MAAM,CAAC;QACzB;QACAlB,SAAS;YACPe,WAAW;YACXH,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAb,WAAW;YACTc,WAAW;YACXH,MAAMC,oBAAS,CAACK,MAAM,CAAC;QACzB;QACAhB,YAAY;YACVa,WAAW;YACXH,MAAMC,oBAAS,CAACK,MAAM,CAAC;QACzB;QACAf,QAAQ;YACNY,WAAW;YACXH,MAAMC,oBAAS,CAACK,MAAM,CAAC;QACzB;IACF,GACA;QACEC,WAAW;QACXC,YAAY;QACZC,UAAU;QACVb;IACF;IAGFZ,iBAAiB0B,SAAS,CAACC,qBAAS,EAAE;QACpCC,YAAY;QACZC,IAAI;IACN;IAEA,OAAO7B;AACT"}