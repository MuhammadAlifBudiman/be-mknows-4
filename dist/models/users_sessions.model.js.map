{"version":3,"sources":["../../src/models/users_sessions.model.ts"],"sourcesContent":["import { Sequelize, DataTypes, Model, Optional } from \"sequelize\";\nimport { UserSession } from \"@interfaces/user-session.interface\";\n\nimport { UserModel } from \"@models/users.model\";\n\nexport type UserSessionCreationAttributes = Optional<UserSession, \"pk\" | \"uuid\">;\n\nexport class UserSessionModel extends Model<UserSession, UserSessionCreationAttributes> {\n  // No public fields here! Let Sequelize handle attributes.\n}\n\nexport default function (sequelize: Sequelize): typeof UserSessionModel {\n  UserSessionModel.init(\n    {\n      pk: {\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      uuid: {\n        allowNull: true,\n        defaultValue: DataTypes.UUIDV4,\n        type: DataTypes.STRING(52),\n      },\n      user_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER(),\n      },\n      useragent: {\n        allowNull: false,\n        type: DataTypes.STRING(320),\n      },\n      ip_address: {\n        allowNull: false,\n        type: DataTypes.STRING(64),\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.STRING(512),\n      },\n    },\n    {\n      tableName: \"users_sessions\",\n      timestamps: true,\n      paranoid: true,\n      sequelize,\n    },\n  );\n\n  UserSessionModel.belongsTo(UserModel, {\n    foreignKey: \"user_id\",\n    as: \"user\"\n  });\n\n  return UserSessionModel;\n}"],"names":["UserSessionModel","Model","sequelize","init","pk","autoIncrement","primaryKey","type","DataTypes","INTEGER","uuid","allowNull","defaultValue","UUIDV4","STRING","user_id","useragent","ip_address","status","tableName","timestamps","paranoid","belongsTo","UserModel","foreignKey","as"],"mappings":";;;;;;;;;;;QAOaA;eAAAA;;QAIb;eAAA;;;2BAXsD;4BAG5B;AAInB,IAAA,AAAMA,mBAAN,MAAMA,yBAAyBC,gBAAK;AAE3C;AAEe,SAAf,SAAyBC,SAAoB;IAC3CF,iBAAiBG,IAAI,CACnB;QACEC,IAAI;YACFC,eAAe;YACfC,YAAY;YACZC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAC,MAAM;YACJC,WAAW;YACXC,cAAcJ,oBAAS,CAACK,MAAM;YAC9BN,MAAMC,oBAAS,CAACM,MAAM,CAAC;QACzB;QACAC,SAAS;YACPJ,WAAW;YACXJ,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAO,WAAW;YACTL,WAAW;YACXJ,MAAMC,oBAAS,CAACM,MAAM,CAAC;QACzB;QACAG,YAAY;YACVN,WAAW;YACXJ,MAAMC,oBAAS,CAACM,MAAM,CAAC;QACzB;QACAI,QAAQ;YACNP,WAAW;YACXJ,MAAMC,oBAAS,CAACM,MAAM,CAAC;QACzB;IACF,GACA;QACEK,WAAW;QACXC,YAAY;QACZC,UAAU;QACVnB;IACF;IAGFF,iBAAiBsB,SAAS,CAACC,qBAAS,EAAE;QACpCC,YAAY;QACZC,IAAI;IACN;IAEA,OAAOzB;AACT"}