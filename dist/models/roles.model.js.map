{"version":3,"sources":["../../src/models/roles.model.ts"],"sourcesContent":["/**\n * Sequelize model definition for roles.\n * Represents role entities for user authorization and access control.\n */\nimport { Sequelize, DataTypes, Model, Optional } from \"sequelize\";\nimport { Role } from \"@interfaces/authentication/user-role.interface\";\n\n/**\n * Type for role creation attributes, omitting pk and uuid for auto-generation.\n */\nexport type RoleCreationAttributes = Optional<Role, \"pk\" | \"uuid\">;\n\n/**\n * RoleModel class for Sequelize ORM.\n * Implements Role interface. Attributes are handled by Sequelize.\n */\nexport class RoleModel extends Model<Role, RoleCreationAttributes> {\n  // No public fields here! Let Sequelize handle attributes.\n}\n\n/**\n * Initializes the RoleModel with Sequelize instance and sets up model fields.\n * @param sequelize - Sequelize connection instance\n * @returns RoleModel class\n */\nexport default function (sequelize: Sequelize): typeof RoleModel {\n  RoleModel.init(\n    {\n      pk: {\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      uuid: {\n        allowNull: true,\n        defaultValue: DataTypes.UUIDV4,\n        type: DataTypes.STRING(52),\n        unique: true\n      },\n      name: {\n        allowNull: true,\n        type: DataTypes.STRING(52),\n        unique: true\n      },\n    },\n    {\n      tableName: \"roles\", // Table name in DB\n      timestamps: true,    // Enable created_at/updated_at\n      paranoid: true,      // Enable soft deletes (deleted_at)\n      sequelize            // Sequelize instance\n    },\n  );\n\n  return RoleModel;\n}"],"names":["RoleModel","Model","sequelize","init","pk","autoIncrement","primaryKey","type","DataTypes","INTEGER","uuid","allowNull","defaultValue","UUIDV4","STRING","unique","name","tableName","timestamps","paranoid"],"mappings":";;;;;;;;;;;QAgBaA;eAAAA;;QASb;eAAA;;;2BArBsD;AAY/C,IAAA,AAAMA,YAAN,MAAMA,kBAAkBC,gBAAK;AAEpC;AAOe,SAAf,SAAyBC,SAAoB;IAC3CF,UAAUG,IAAI,CACZ;QACEC,IAAI;YACFC,eAAe;YACfC,YAAY;YACZC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAC,MAAM;YACJC,WAAW;YACXC,cAAcJ,oBAAS,CAACK,MAAM;YAC9BN,MAAMC,oBAAS,CAACM,MAAM,CAAC;YACvBC,QAAQ;QACV;QACAC,MAAM;YACJL,WAAW;YACXJ,MAAMC,oBAAS,CAACM,MAAM,CAAC;YACvBC,QAAQ;QACV;IACF,GACA;QACEE,WAAW;QACXC,YAAY;QACZC,UAAU;QACVjB;IACF;IAGF,OAAOF;AACT"}