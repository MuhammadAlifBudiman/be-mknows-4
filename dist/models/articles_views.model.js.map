{"version":3,"sources":["../../src/models/articles_views.model.ts"],"sourcesContent":["/**\n * Sequelize model definition for article views.\n * Represents the relationship between users and articles they have viewed.\n */\nimport { Sequelize, DataTypes, Model } from \"sequelize\";\n\nimport { ArticleView } from \"@interfaces/article.interface\";\n\n/**\n * Type for article view creation attributes.\n */\nexport type ArticleViewCreationAttributes = ArticleView;\n\n/**\n * ArticleViewModel class for Sequelize ORM.\n * Implements ArticleView interface and adds timestamp fields.\n */\nexport class ArticleViewModel extends Model<ArticleView, ArticleViewCreationAttributes> implements ArticleView {\n  public article_id: number; // ID of the viewed article\n  public user_id: number;    // ID of the user who viewed the article\n\n  public readonly created_at!: Date; // Timestamp for creation\n  public readonly updated_at!: Date; // Timestamp for last update\n  public readonly deleted_at: Date;  // Timestamp for deletion (paranoid)\n}\n\n/**\n * Initializes the ArticleViewModel with Sequelize instance.\n * @param sequelize - Sequelize connection instance\n * @returns ArticleViewModel class\n */\nexport default function (sequelize: Sequelize): typeof ArticleViewModel {\n  ArticleViewModel.init(\n    {\n      article_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER,\n      },\n      user_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER,\n      },\n    },\n    {\n      tableName: \"articles_views\", // Table name in DB\n      timestamps: true,                // Enable created_at/updated_at\n      paranoid: true,                  // Enable soft deletes (deleted_at)\n      sequelize,                       // Sequelize instance\n    },\n  );\n\n  return ArticleViewModel;\n}"],"names":["ArticleViewModel","Model","article_id","user_id","created_at","updated_at","deleted_at","sequelize","init","allowNull","type","DataTypes","INTEGER","tableName","timestamps","paranoid"],"mappings":";;;;;;;;;;;QAiBaA;eAAAA;;QAcb;eAAA;;;2BA3B4C;;;;;;;;;;;;;;AAarC,IAAA,AAAMA,mBAAN,MAAMA,yBAAyBC,gBAAK;;QAApC,gBACL,uBAAOC,cAAP,KAAA,IACA,uBAAOC,WAAP,KAAA,IAEA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA;;AACF;AAOe,SAAf,SAAyBC,SAAoB;IAC3CP,iBAAiBQ,IAAI,CACnB;QACEN,YAAY;YACVO,WAAW;YACXC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAT,SAAS;YACPM,WAAW;YACXC,MAAMC,oBAAS,CAACC,OAAO;QACzB;IACF,GACA;QACEC,WAAW;QACXC,YAAY;QACZC,UAAU;QACVR;IACF;IAGF,OAAOP;AACT"}