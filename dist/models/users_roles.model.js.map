{"version":3,"sources":["../../src/models/users_roles.model.ts"],"sourcesContent":["import { Sequelize, DataTypes, Model } from \"sequelize\";\nimport { UserRole } from \"@interfaces/authentication/user-role.interface\";\n\nimport { RoleModel } from \"@models/roles.model\";\nimport { UserModel } from \"@models/users.model\";\n\nexport type UserRoleCreationAttributes = UserRole;\n\nexport class UserRoleModel extends Model<UserRole, UserRoleCreationAttributes> implements UserRole {\n  public user_id: number;\n  public role_id: number;\n\n  public role?: RoleModel;\n\n  public readonly created_at!: Date;\n  public readonly updated_at!: Date;\n  public readonly deleted_at: Date;\n}\n\nexport default function (sequelize: Sequelize): typeof UserRoleModel {\n  UserRoleModel.init(\n    {\n      user_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER,\n      },\n      role_id: {\n        allowNull: false,\n        type: DataTypes.INTEGER,\n      },\n    },\n    {\n      tableName: \"users_roles\",\n      timestamps: true,\n      paranoid: true,\n      sequelize,\n    },\n  );\n\n  UserModel.belongsToMany(RoleModel, { through: UserRoleModel, foreignKey: \"user_id\" });\n  RoleModel.belongsToMany(UserModel, { through: UserRoleModel, foreignKey: \"role_id\" });\n\n  UserModel.hasMany(UserRoleModel);\n  UserRoleModel.belongsTo(UserModel);\n\n  RoleModel.hasMany(UserRoleModel);\n  UserRoleModel.belongsTo(RoleModel, { foreignKey: \"role_id\", as: \"role\" });\n\n  return UserRoleModel;\n}"],"names":["UserRoleModel","Model","user_id","role_id","role","created_at","updated_at","deleted_at","sequelize","init","allowNull","type","DataTypes","INTEGER","tableName","timestamps","paranoid","UserModel","belongsToMany","RoleModel","through","foreignKey","hasMany","belongsTo","as"],"mappings":";;;;;;;;;;;QAQaA;eAAAA;;QAWb;eAAA;;;2BAnB4C;4BAGlB;4BACA;;;;;;;;;;;;;;AAInB,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,gBAAK;;QAAjC,gBACL,uBAAOC,WAAP,KAAA,IACA,uBAAOC,WAAP,KAAA,IAEA,uBAAOC,QAAP,KAAA,IAEA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA,IACA,uBAAgBC,cAAhB,KAAA;;AACF;AAEe,SAAf,SAAyBC,SAAoB;IAC3CR,cAAcS,IAAI,CAChB;QACEP,SAAS;YACPQ,WAAW;YACXC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAV,SAAS;YACPO,WAAW;YACXC,MAAMC,oBAAS,CAACC,OAAO;QACzB;IACF,GACA;QACEC,WAAW;QACXC,YAAY;QACZC,UAAU;QACVR;IACF;IAGFS,qBAAS,CAACC,aAAa,CAACC,qBAAS,EAAE;QAAEC,SAASpB;QAAeqB,YAAY;IAAU;IACnFF,qBAAS,CAACD,aAAa,CAACD,qBAAS,EAAE;QAAEG,SAASpB;QAAeqB,YAAY;IAAU;IAEnFJ,qBAAS,CAACK,OAAO,CAACtB;IAClBA,cAAcuB,SAAS,CAACN,qBAAS;IAEjCE,qBAAS,CAACG,OAAO,CAACtB;IAClBA,cAAcuB,SAAS,CAACJ,qBAAS,EAAE;QAAEE,YAAY;QAAWG,IAAI;IAAO;IAEvE,OAAOxB;AACT"}