{"version":3,"sources":["../../src/utils/mailer.ts"],"sourcesContent":["import ejs from \"ejs\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { sendEmail } from \"@config/node-mailer\";\nimport { logger } from \"@utils/logger\";\n\nexport const sendEmailOTP = async (data): Promise<void> => {\n  // Use require.resolve to force Vercel to bundle the template\n  const templatePath = require.resolve(\"../../public/templates/email-verification.ejs\");\n  logger.info(`[sendEmailOTP] templatePath: ${templatePath}`);\n  logger.info(`[sendEmailOTP] file exists: ${fs.existsSync(templatePath)}`);\n\n  const template = await ejs.renderFile(\n    templatePath,\n    { data },\n  );\n\n  await sendEmail(data.email, \"Email Verification\", template);\n};\n"],"names":["sendEmailOTP","data","templatePath","require","resolve","logger","info","fs","existsSync","template","ejs","renderFile","sendEmail","email"],"mappings":";;;;+BAMaA;;;eAAAA;;;4DANG;2DAED;4BACW;wBACH;;;;;;AAEhB,MAAMA,eAAe,OAAOC;IAEjC,MAAMC,eAAeC,QAAQC,OAAO,CAAC;IACrCC,cAAM,CAACC,IAAI,CAAC,CAAC,6BAA6B,EAAEJ,cAAc;IAC1DG,cAAM,CAACC,IAAI,CAAC,CAAC,4BAA4B,EAAEC,WAAE,CAACC,UAAU,CAACN,eAAe;IAExE,MAAMO,WAAW,MAAMC,YAAG,CAACC,UAAU,CACnCT,cACA;QAAED;IAAK;IAGT,MAAMW,IAAAA,qBAAS,EAACX,KAAKY,KAAK,EAAE,sBAAsBJ;AACpD"}