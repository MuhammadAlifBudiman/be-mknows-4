{"version":3,"sources":["../../src/routes/files.routes.ts"],"sourcesContent":["import { Router } from \"express\";\nimport { Routes } from \"@interfaces/routes.interface\";\n\nimport { FileController } from \"@controllers/file.controller\";\n\nimport { AuthMiddleware } from \"@middlewares/auth.middleware\";\nimport { uploadFile, uploadToS3 } from \"@middlewares/file-uploader.middleware\";\n\nexport class FileRoute implements Routes {\n  public path = \"files\";\n  public router = Router();\n  public file = new FileController();\n\n  constructor() {\n    this.initializeRoutes();\n  }\n\n  private initializeRoutes() {\n    this.router.post(\n      `/v1/${this.path}/upload`, \n      AuthMiddleware,\n      uploadFile.single(\"file\"), \n      uploadToS3,\n      this.file.uploadFile\n    );\n    this.router.get(\n      `/v1/${this.path}/:file_id/preview`, \n      AuthMiddleware, \n      this.file.getFileWithUUID\n    );\n    this.router.get(\n      `/v1/${this.path}/mine`, \n      AuthMiddleware, \n      this.file.getFileMine\n    );\n  }\n}"],"names":["FileRoute","initializeRoutes","router","post","path","AuthMiddleware","uploadFile","single","uploadToS3","file","get","getFileWithUUID","getFileMine","constructor","Router","FileController"],"mappings":";;;;+BAQaA;;;eAAAA;;;yBARU;gCAGQ;gCAEA;wCACQ;;;;;;;;;;;;;;AAEhC,IAAA,AAAMA,YAAN,MAAMA;IASHC,mBAAmB;QACzB,IAAI,CAACC,MAAM,CAACC,IAAI,CACd,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,OAAO,CAAC,EACzBC,8BAAc,EACdC,kCAAU,CAACC,MAAM,CAAC,SAClBC,kCAAU,EACV,IAAI,CAACC,IAAI,CAACH,UAAU;QAEtB,IAAI,CAACJ,MAAM,CAACQ,GAAG,CACb,CAAC,IAAI,EAAE,IAAI,CAACN,IAAI,CAAC,iBAAiB,CAAC,EACnCC,8BAAc,EACd,IAAI,CAACI,IAAI,CAACE,eAAe;QAE3B,IAAI,CAACT,MAAM,CAACQ,GAAG,CACb,CAAC,IAAI,EAAE,IAAI,CAACN,IAAI,CAAC,KAAK,CAAC,EACvBC,8BAAc,EACd,IAAI,CAACI,IAAI,CAACG,WAAW;IAEzB;IAtBAC,aAAc;QAJd,uBAAOT,QAAO;QACd,uBAAOF,UAASY,IAAAA,eAAM;QACtB,uBAAOL,QAAO,IAAIM,8BAAc;QAG9B,IAAI,CAACd,gBAAgB;IACvB;AAqBF"}