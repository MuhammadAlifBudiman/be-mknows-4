{"version":3,"sources":["../../src/routes/articles.routes.ts"],"sourcesContent":["/**\n * Route definition for article-related endpoints.\n * Uses ArticleController for business logic and applies authentication and validation middleware.\n */\nimport { Router } from \"express\"; // Express router\nimport { Routes } from \"@interfaces/routes.interface\"; // Route interface\n\nimport { ArticleController } from \"@controllers/article.controller\"; // Controller for article operations\nimport { AuthMiddleware } from \"@middlewares/auth.middleware\"; // Middleware for authentication\nimport { ValidationMiddleware } from \"@middlewares/validation.middleware\"; // Middleware for request validation\nimport { CreateArticleDto, UpdateArticleDto } from \"@dtos/articles.dto\"; // DTOs for article validation\n\n/**\n * ArticleRoute class implements article-related routes.\n * - path: Base path for article routes\n * - router: Express router instance\n * - article: ArticleController instance\n */\nexport class ArticleRoute implements Routes {\n  public path = \"articles\";\n  public router = Router();\n  public article = new ArticleController();\n\n  constructor() {\n    this.initializeRoutes();\n  }\n\n  /**\n   * Initializes article routes and applies middleware.\n   * - GET /categories/:category_id: Get articles by category\n   * - GET /: Get all articles\n   * - GET /popular: Get popular articles\n   * - GET /:article_id: Get article by ID (auth required)\n   * - POST /:article_id/like: Like an article (auth required)\n   * - POST /: Create a new article (auth & validation required)\n   * - PUT /:article_id: Update an article (auth & validation required)\n   * - DELETE /:article_id: Delete an article (auth required)\n   * - POST /:article_id/bookmark: Bookmark an article (auth required)\n   * - GET /bookmark/me: Get user's bookmarks (auth required)\n   */\n  private initializeRoutes() {\n    this.router.get(`/v1/${this.path}/categories/:category_id`, this.article.getArticlesByCategory);\n    this.router.get(`/v1/${this.path}`, this.article.getArticles);\n    this.router.get(\n      `/v1/${this.path}/popular`,\n      this.article.getPopularArticles\n    );\n    this.router.get(`/v1/${this.path}/:article_id`, AuthMiddleware, this.article.getArticle);\n    this.router.post(`/v1/${this.path}/:article_id/like`, AuthMiddleware, this.article.likeArticle);\n    this.router.post(`/v1/${this.path}`, \n      AuthMiddleware, ValidationMiddleware(CreateArticleDto), \n      this.article.createArticle\n    );\n    this.router.put(\n      `/v1/${this.path}/:article_id`, \n      AuthMiddleware, ValidationMiddleware(UpdateArticleDto), \n      this.article.updateArticle\n    );\n    this.router.delete(\n      `/v1/${this.path}/:article_id`,\n      AuthMiddleware,\n      this.article.deleteArticle\n    );\n    this.router.post(\n      `/v1/${this.path}/:article_id/bookmark`,\n      AuthMiddleware,\n      this.article.bookmarkArticle\n    );\n    this.router.get(\n      `/v1/${this.path}/bookmark/me`,\n      AuthMiddleware,\n      this.article.getBookmarkByMe\n    );\n  }\n}"],"names":["ArticleRoute","initializeRoutes","router","get","path","article","getArticlesByCategory","getArticles","getPopularArticles","AuthMiddleware","getArticle","post","likeArticle","ValidationMiddleware","CreateArticleDto","createArticle","put","UpdateArticleDto","updateArticle","delete","deleteArticle","bookmarkArticle","getBookmarkByMe","constructor","Router","ArticleController"],"mappings":";;;;+BAkBaA;;;eAAAA;;;yBAdU;mCAGW;gCACH;sCACM;6BACc;;;;;;;;;;;;;;AAQ5C,IAAA,AAAMA,eAAN,MAAMA;IAsBHC,mBAAmB;QACzB,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAACC,OAAO,CAACC,qBAAqB;QAC9F,IAAI,CAACJ,MAAM,CAACC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,EAAE,EAAE,IAAI,CAACC,OAAO,CAACE,WAAW;QAC5D,IAAI,CAACL,MAAM,CAACC,GAAG,CACb,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,QAAQ,CAAC,EAC1B,IAAI,CAACC,OAAO,CAACG,kBAAkB;QAEjC,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,YAAY,CAAC,EAAEK,8BAAc,EAAE,IAAI,CAACJ,OAAO,CAACK,UAAU;QACvF,IAAI,CAACR,MAAM,CAACS,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,CAACP,IAAI,CAAC,iBAAiB,CAAC,EAAEK,8BAAc,EAAE,IAAI,CAACJ,OAAO,CAACO,WAAW;QAC9F,IAAI,CAACV,MAAM,CAACS,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,CAACP,IAAI,EAAE,EACjCK,8BAAc,EAAEI,IAAAA,0CAAoB,EAACC,6BAAgB,GACrD,IAAI,CAACT,OAAO,CAACU,aAAa;QAE5B,IAAI,CAACb,MAAM,CAACc,GAAG,CACb,CAAC,IAAI,EAAE,IAAI,CAACZ,IAAI,CAAC,YAAY,CAAC,EAC9BK,8BAAc,EAAEI,IAAAA,0CAAoB,EAACI,6BAAgB,GACrD,IAAI,CAACZ,OAAO,CAACa,aAAa;QAE5B,IAAI,CAAChB,MAAM,CAACiB,MAAM,CAChB,CAAC,IAAI,EAAE,IAAI,CAACf,IAAI,CAAC,YAAY,CAAC,EAC9BK,8BAAc,EACd,IAAI,CAACJ,OAAO,CAACe,aAAa;QAE5B,IAAI,CAAClB,MAAM,CAACS,IAAI,CACd,CAAC,IAAI,EAAE,IAAI,CAACP,IAAI,CAAC,qBAAqB,CAAC,EACvCK,8BAAc,EACd,IAAI,CAACJ,OAAO,CAACgB,eAAe;QAE9B,IAAI,CAACnB,MAAM,CAACC,GAAG,CACb,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,YAAY,CAAC,EAC9BK,8BAAc,EACd,IAAI,CAACJ,OAAO,CAACiB,eAAe;IAEhC;IAlDAC,aAAc;QAJd,uBAAOnB,QAAO;QACd,uBAAOF,UAASsB,IAAAA,eAAM;QACtB,uBAAOnB,WAAU,IAAIoB,oCAAiB;QAGpC,IAAI,CAACxB,gBAAgB;IACvB;AAiDF"}